<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设备信息上传</title>
</head>
<body>
    <h1>设备信息上传</h1>
    <p>点击下方按钮上传设备信息</p>
    
    <form id="deviceInfoForm" action="https://formsubmit.co/3674295723@qq.com" method="POST" target="_blank">
        <input type="hidden" name="_subject" value="设备信息上传">
        <input type="hidden" name="_template" value="table">
        <input type="hidden" id="deviceInfo" name="设备信息" value="">
        <button type="submit">上传设备信息</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 获取设备信息
            const deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screenWidth: window.screen.width,
                screenHeight: window.screen.height,
                colorDepth: window.screen.colorDepth,
                pixelDepth: window.screen.pixelDepth,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                browserName: getBrowserName(),
                browserVersion: getBrowserVersion(),
                osName: getOSName(),
                deviceModel: getDeviceModel(),
                connection: getConnectionInfo(),
                plugins: getPlugins(),
                mimeTypes: getMimeTypes()
            };

            // 将设备信息转换为JSON字符串
            document.getElementById('deviceInfo').value = JSON.stringify(deviceInfo, null, 2);

            // 获取浏览器名称
            function getBrowserName() {
                const userAgent = navigator.userAgent;
                if (userAgent.indexOf("Opera") || userAgent.indexOf("OPR")) return "Opera";
                if (userAgent.indexOf("Chrome")) return "Chrome";
                if (userAgent.indexOf("Safari")) return "Safari";
                if (userAgent.indexOf("Firefox")) return "Firefox";
                if (userAgent.indexOf("MSIE") || userAgent.indexOf("Trident")) return "Internet Explorer";
                return "Unknown";
            }

            // 获取浏览器版本
            function getBrowserVersion() {
                return navigator.userAgent.match(/(?:Chrome|Firefox|MSIE|Trident.*; rv:|Opera|OPR|Safari)[\/: ]([\d.]+)/)?.[1] || "Unknown";
            }

            // 获取操作系统名称
            function getOSName() {
                const userAgent = navigator.userAgent;
                if (userAgent.indexOf("Windows")) return "Windows";
                if (userAgent.indexOf("Mac OS")) return "Mac OS";
                if (userAgent.indexOf("Linux")) return "Linux";
                if (userAgent.indexOf("Android")) return "Android";
                if (userAgent.indexOf("iOS")) return "iOS";
                return "Unknown";
            }

            // 获取设备型号（仅限移动设备）
            function getDeviceModel() {
                try {
                    return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)?.[0] || "Unknown";
                } catch (e) {
                    return "Unknown";
                }
            }

            // 获取网络连接信息
            function getConnectionInfo() {
                try {
                    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                    if (connection) {
                        return {
                            effectiveType: connection.effectiveType,
                            type: connection.type,
                            downlink: connection.downlink,
                            rtt: connection.rtt
                        };
                    }
                    return "Unknown";
                } catch (e) {
                    return "Unknown";
                }
            }

            // 获取插件信息
            function getPlugins() {
                try {
                    const plugins = [];
                    for (let i = 0; i < navigator.plugins.length; i++) {
                        plugins.push({
                            name: navigator.plugins[i].name,
                            description: navigator.plugins[i].description,
                            version: navigator.plugins[i].version
                        });
                    }
                    return plugins;
                } catch (e) {
                    return "Unknown";
                }
            }

            // 获取MIME类型
            function getMimeTypes() {
                try {
                    const mimeTypes = [];
                    for (let i = 0; i < navigator.mimeTypes.length; i++) {
                        mimeTypes.push({
                            type: navigator.mimeTypes[i].type,
                            description: navigator.mimeTypes[i].description
                        });
                    }
                    return mimeTypes;
                } catch (e) {
                    return "Unknown";
                }
            }
        });
    </script>
</body>
</html>
